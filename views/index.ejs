<div class="container">
    <div ng-controller="CompanyController">
        <div ng-controller="UserController">
            <div class="row">
                <div class="col-md-2">
                    <autocomplete ng-model="user.company" attr-placeholder="Company" data="companyNames" on-type="companiesList"></autocomplete>
                </div>
                <div class="col-md-2">
                    <lx-text-field label="First Name">
                        <input type="text" ng-model="user.firstName">
                    </lx-text-field>
                </div>

                <div class="col-md-2">
                    <lx-text-field label="Last Name">
                        <input type="text" ng-model="user.lastName">
                    </lx-text-field>
                </div>

                <div class="col-md-2">
                    <lx-text-field label="Email Address">
                        <input type="text" ng-model="user.email">
                    </lx-text-field>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2 col-md-10 col-lg-10">
                    <button ng-click="listUsers()" class="btn btn--m btn--orange btn--raised" lx-ripple>List Users</button>
                    <button ng-click="listCompanies()" class="btn btn--m btn--orange btn--raised" lx-ripple>List Companies</button>
                    <button ng-click="addUser()" class="btn btn--m btn--green btn--raised" lx-ripple>Create User</button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <table class="data-table data-table--has-primary data-table--has-secondary">
                        <thead>
                            <tr>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Email</th>
                                <th>Company</th>
                                <th>Menu</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="u in users | filter:query">
                                <td><b><a class="1" ng-href="#" editable-text="u.firstName" style="color: #000000; text-decoration: none; border-bottom: 0px solid">{{ u.firstName || "empty" }}</a></b>
                                </td>
                                <td><b><a class="1" ng-href="#" editable-text="u.lastName" style="color: #000000; text-decoration: none; border-bottom: 0px solid">{{ u.lastName || "empty" }}</a></b>
                                </td>
                                <td><b><a class="1" ng-href="#" editable-text="u.email" style="color: #000000; text-decoration: none; border-bottom: 0px solid">{{ u.email || "empty" }}</a></b>
                                </td>

                                <td><b><a class="1" ng-href="#" editable-text="u.company" style="color: #000000; text-decoration: none; border-bottom: 0px solid">{{ u.company || "empty" }}</a></b>
                                </td>
                                <td>
                                    <div class="fab">
                                        <button class="fab__primary btn btn--xl btn--indigo btn--fab" lx-ripple lx-tooltip="Menu" tooltip-position="left">
                                            <i class="mdi mdi--menu"></i>
                                            <i class="mdi mdi--menus"></i>
                                        </button>
                                        <div class="fab__actions fab__actions--right">
                                            <button class="btn btn--l btn--blue btn--fab" lx-ripple lx-tooltip="Profile" tooltip-position="bottom"><i class="mdi mdi--account-circle"></i>
                                            </button>
                                            <!--
            -->
                                            <button class="btn btn--l btn--green btn--fab" lx-ripple lx-tooltip="Save Changes" tooltip-position="bottom"><i class="mdi mdi--edit" ng-click="updateUser(u.id, $index)"></i>
                                            </button>
                                            <!--
            -->
                                            <button class="btn btn--l btn--red btn--fab" lx-ripple lx-tooltip="Delete" tooltip-position="bottom"><i class="mdi mdi--delete" ng-click="removeUser(u.id)"></i>
                                            </button>
                                        </div>
                                    </div>
                </div>
                </td>
                </tr>
                </tbody>
                </table>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <table class="data-table data-table--has-primary data-table--has-secondary">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Company Name</th>
                                <th>Email</th>
                                <th>Location</th>
                                <th>Billing Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="c in companies | filter:query">
                                <td>{{c.id}}</td>
                                <td>{{c.companyName}}</td>
                                <td>{{c.email}}</td>
                                <td>{{c.location}}</td>
                                <td>{{c.billing}}</td>
                                <td>
                                    <button ng-click="removeCompany(c.id)" class="btn btn--m btn--red btn--raised" lx-ripple>DELETE</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <lx-dialog class="dialog dialog--l" id="company" onclose="closingDialog()">
                <div class="dialog__header">
                    <div class="toolbar bgc-light-blue-500">
                        <span class="toolbar__label tc-white fs-title">
                New Company Creation
            </span>

                        <div class="toolbar__right">
                            <button class="btn btn--l btn--white btn--icon" lx-ripple ng-click="">
                                <i class="mdi mdi--add"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="dialog__content">
                    <lx-tabs links-tc="light" links-bgc="light-blue-500" indicator="yellow-500" no-divider="true" layout="inline">
                        <lx-tab heading="Company">
                            <p class="p">{{ user.company }}</p>
                        </lx-tab>

                        <div class="s">
                            <div ng-repeat="s in users">
                                {{ s.firstName }} - {{ s.email }} - {{ s.lastName }}
                            </div>
                        </div>

                        <lx-tab heading="More custom Data">
                            <p class="p">More?</p>
                        </lx-tab>

                    </lx-tabs>
                </div>

                <div class="dialog__actions">
                    <button class="btn btn--m btn--black btn--flat" lx-ripple lx-dialog-close>Cancel</button>
                    <button class="btn btn--m btn--black btn--flat" lx-ripple>Save</button>
                </div>
            </lx-dialog>

        </div>
    </div>
</div>
